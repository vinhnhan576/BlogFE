{"ast":null,"code":"import _regeneratorRuntime from\"D:/Code/HTML/blog/BlogProject/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Code/HTML/blog/BlogProject/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{useDispatch}from'react-redux';import{Link}from'react-router-dom';import{updateBlogAsync}from'../features/post/blogSlice';import{getUserByUsernameAsync}from'../features/user/userSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MessageBox=function MessageBox(_ref){var _JSON$parse;var _id=_ref._id,title=_ref.title,body=_ref.body,blogName=_ref.blogName,slug=_ref.slug,alias=_ref.alias,onCheckButtonClick=_ref.onCheckButtonClick,onCloseButtonClick=_ref.onCloseButtonClick,functionType=_ref.functionType;var dispatch=useDispatch();var username=(_JSON$parse=JSON.parse(localStorage.getItem('user')))===null||_JSON$parse===void 0?void 0:_JSON$parse.account.username;var publishBlog=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log('publishing...');_context.next=3;return dispatch(updateBlogAsync({blogReqData:{_id:_id,published:true}}));case 3:_context.next=5;return dispatch(getUserByUsernameAsync({username:username}));case 5:onCloseButtonClick();case 6:case\"end\":return _context.stop();}}},_callee);}));return function publishBlog(){return _ref2.apply(this,arguments);};}();var unpublishBlog=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return dispatch(updateBlogAsync({blogReqData:{_id:_id,published:false}}));case 2:_context2.next=4;return dispatch(getUserByUsernameAsync({username:username}));case 4:onCloseButtonClick();case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function unpublishBlog(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"message-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"message-box__container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-box__icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bxs-message-alt-error\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-box__content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-box__content__title\",children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-box__content__body\",children:[body,\" \\\"\",blogName,\"\\\"\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-box__close\",children:[functionType==='Xóa'?/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-check\",onClick:onCheckButtonClick}):functionType==='Chỉnh sửa'?/*#__PURE__*/_jsx(Link,{to:\"/\".concat(alias,\"/editBlog/\").concat(slug),children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-check\",onClick:function onClick(){/*#__PURE__*/_jsx(Link,{to:\"/\".concat(alias,\"/blog/\").concat(slug)});}})}):functionType==='Xuất bản'?/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-check\",onClick:publishBlog}):/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-check\",onClick:unpublishBlog}),/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-x\",onClick:onCloseButtonClick})]})]})});};export default MessageBox;","map":{"version":3,"names":["React","useDispatch","Link","updateBlogAsync","getUserByUsernameAsync","MessageBox","_id","title","body","blogName","slug","alias","onCheckButtonClick","onCloseButtonClick","functionType","dispatch","username","JSON","parse","localStorage","getItem","account","publishBlog","console","log","blogReqData","published","unpublishBlog"],"sources":["D:/Code/HTML/blog/BlogProject/client/src/components/MessageBox.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { updateBlogAsync } from '../features/post/blogSlice';\r\nimport { getUserByUsernameAsync } from '../features/user/userSlice';\r\n\r\nconst MessageBox = ({\r\n    _id,\r\n    title,\r\n    body,\r\n    blogName,\r\n    slug,\r\n    alias,\r\n    onCheckButtonClick,\r\n    onCloseButtonClick,\r\n    functionType,\r\n}) => {\r\n    const dispatch = useDispatch();\r\n    const username = JSON.parse(localStorage.getItem('user'))?.account.username;\r\n\r\n    const publishBlog = async () => {\r\n        console.log('publishing...');\r\n        await dispatch(\r\n            updateBlogAsync({ blogReqData: { _id: _id, published: true } })\r\n        );\r\n\t\tawait dispatch(getUserByUsernameAsync({ username: username }));\r\n\t\tonCloseButtonClick();\r\n    };\r\n\r\n    const unpublishBlog = async () => {\r\n        await dispatch(\r\n            updateBlogAsync({ blogReqData: { _id: _id, published: false } })\r\n        );\r\n\t\tawait dispatch(getUserByUsernameAsync({ username: username }));\r\n\t\tonCloseButtonClick();\r\n    };\r\n\r\n    return (\r\n        <div className=\"message-box\">\r\n            <div className=\"message-box__container\">\r\n                <div className=\"message-box__icon\">\r\n                    <i className=\"bx bxs-message-alt-error\"></i>\r\n                </div>\r\n                <div className=\"message-box__content\">\r\n                    <div className=\"message-box__content__title\">{title}</div>\r\n                    <div className=\"message-box__content__body\">\r\n                        {body} \"{blogName}\"\r\n                    </div>\r\n                </div>\r\n                <div className=\"message-box__close\">\r\n                    {functionType === 'Xóa' ? (\r\n                        <i\r\n                            className=\"bx bx-check\"\r\n                            onClick={onCheckButtonClick}\r\n                        ></i>\r\n                    ) : functionType === 'Chỉnh sửa' ? (\r\n                        <Link to={`/${alias}/editBlog/${slug}`}>\r\n                            <i\r\n                                className=\"bx bx-check\"\r\n                                onClick={() => {\r\n                                    <Link to={`/${alias}/blog/${slug}`} />;\r\n                                }}\r\n                            ></i>\r\n                        </Link>\r\n                    ) : functionType === 'Xuất bản' ? (\r\n                        <i className=\"bx bx-check\" onClick={publishBlog}></i>\r\n                    ) : (\r\n                        <i className=\"bx bx-check\" onClick={unpublishBlog}></i>\r\n                    )}\r\n                    <i className=\"bx bx-x\" onClick={onCloseButtonClick}></i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MessageBox;\r\n"],"mappings":"oQAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,eAAT,KAAgC,4BAAhC,CACA,OAASC,sBAAT,KAAuC,4BAAvC,C,wFAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,MAUb,oBATFC,IASE,MATFA,GASE,CARFC,KAQE,MARFA,KAQE,CAPFC,IAOE,MAPFA,IAOE,CANFC,QAME,MANFA,QAME,CALFC,IAKE,MALFA,IAKE,CAJFC,KAIE,MAJFA,KAIE,CAHFC,kBAGE,MAHFA,kBAGE,CAFFC,kBAEE,MAFFA,kBAEE,CADFC,YACE,MADFA,YACE,CACF,GAAMC,SAAQ,CAAGd,WAAW,EAA5B,CACA,GAAMe,SAAQ,cAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAH,sCAAG,YAA0CC,OAA1C,CAAkDL,QAAnE,CAEA,GAAMM,YAAW,6FAAG,qIAChBC,OAAO,CAACC,GAAR,CAAY,eAAZ,EADgB,sBAEVT,SAAQ,CACVZ,eAAe,CAAC,CAAEsB,WAAW,CAAE,CAAEnB,GAAG,CAAEA,GAAP,CAAYoB,SAAS,CAAE,IAAvB,CAAf,CAAD,CADL,CAFE,8BAKhBX,SAAQ,CAACX,sBAAsB,CAAC,CAAEY,QAAQ,CAAEA,QAAZ,CAAD,CAAvB,CALQ,QAMtBH,kBAAkB,GANI,sDAAH,kBAAXS,YAAW,2CAAjB,CASA,GAAMK,cAAa,6FAAG,iKACZZ,SAAQ,CACVZ,eAAe,CAAC,CAAEsB,WAAW,CAAE,CAAEnB,GAAG,CAAEA,GAAP,CAAYoB,SAAS,CAAE,KAAvB,CAAf,CAAD,CADL,CADI,+BAIlBX,SAAQ,CAACX,sBAAsB,CAAC,CAAEY,QAAQ,CAAEA,QAAZ,CAAD,CAAvB,CAJU,QAKxBH,kBAAkB,GALM,wDAAH,kBAAbc,cAAa,2CAAnB,CAQA,mBACI,YAAK,SAAS,CAAC,aAAf,uBACI,aAAK,SAAS,CAAC,wBAAf,wBACI,YAAK,SAAS,CAAC,mBAAf,uBACI,UAAG,SAAS,CAAC,0BAAb,EADJ,EADJ,cAII,aAAK,SAAS,CAAC,sBAAf,wBACI,YAAK,SAAS,CAAC,6BAAf,UAA8CpB,KAA9C,EADJ,cAEI,aAAK,SAAS,CAAC,4BAAf,WACKC,IADL,OACaC,QADb,QAFJ,GAJJ,cAUI,aAAK,SAAS,CAAC,oBAAf,WACKK,YAAY,GAAK,KAAjB,cACG,UACI,SAAS,CAAC,aADd,CAEI,OAAO,CAAEF,kBAFb,EADH,CAKGE,YAAY,GAAK,WAAjB,cACA,KAAC,IAAD,EAAM,EAAE,YAAMH,KAAN,sBAAwBD,IAAxB,CAAR,uBACI,UACI,SAAS,CAAC,aADd,CAEI,OAAO,CAAE,kBAAM,CACX,kBAAC,IAAD,EAAM,EAAE,YAAMC,KAAN,kBAAoBD,IAApB,CAAR,GACH,CAJL,EADJ,EADA,CASAI,YAAY,GAAK,UAAjB,cACA,UAAG,SAAS,CAAC,aAAb,CAA2B,OAAO,CAAEQ,WAApC,EADA,cAGA,UAAG,SAAS,CAAC,aAAb,CAA2B,OAAO,CAAEK,aAApC,EAlBR,cAoBI,UAAG,SAAS,CAAC,SAAb,CAAuB,OAAO,CAAEd,kBAAhC,EApBJ,GAVJ,GADJ,EADJ,CAqCH,CApED,CAsEA,cAAeR,WAAf"},"metadata":{},"sourceType":"module"}