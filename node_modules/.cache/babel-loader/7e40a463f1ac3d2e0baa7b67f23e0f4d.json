{"ast":null,"code":"import _defineProperty from\"D:/Code/HTML/BlogProject/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"D:/Code/HTML/BlogProject/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Code/HTML/BlogProject/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import Axios from\"axios\";export var authenticateUserAsync=createAsyncThunk(\"auth/authenticateUserAsync\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(user){var response,tasks;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log();_context.next=3;return Axios.post(\"http://localhost:5000/auth\",user);case 3:response=_context.sent;tasks=response.data;return _context.abrupt(\"return\",{tasks:tasks});case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var accountSlice=createSlice({name:\"account\",initialState:{account:null},reducers:{// login: (state, action) => {\n// \tconst data = {\n// \t\tusername: action.payload.username,\n// \t\tpassword: action.payload.password,\n// \t};\n// \tAxios.post(\"http://localhost:5000/auth\", { data })\n// \t\t.then((res) => {\n// \t\t\tif (res) {\n// \t\t\t\tstate.account = action.payload;\n// \t\t\t\tconsole.log(state.account);\n// \t\t\t} else state.account = null;\n// \t\t})\n// \t\t.catch((error) => {\n// \t\t\tconsole.log(error);\n// \t\t});\n// },\nlogout:function logout(state){state.account=null;}},extraReducers:_defineProperty({},authenticateUserAsync.fulfilled,function(state,action){console.log(\"authenticate user successfully\");if(action.payload.tasks)state.account=action.payload.tasks;else state.account=null;console.log(state.account);})});var logout=accountSlice.actions.logout;export{logout};export var selectAccount=function selectAccount(state){return state.account.account;};export default accountSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","Axios","authenticateUserAsync","user","console","log","post","response","tasks","data","accountSlice","name","initialState","account","reducers","logout","state","extraReducers","fulfilled","action","payload","actions","selectAccount","reducer"],"sources":["D:/Code/HTML/BlogProject/client/src/features/account/accountSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport Axios from \"axios\";\r\n\r\nexport const authenticateUserAsync = createAsyncThunk(\r\n\t\"auth/authenticateUserAsync\",\r\n\tasync (user) => {\r\n\t\tconsole.log();\r\n\t\tconst response = await Axios.post(\"http://localhost:5000/auth\", user);\r\n\t\tconst tasks = response.data;\r\n\t\treturn { tasks };\r\n\t}\r\n);\r\n\r\nexport const accountSlice = createSlice({\r\n\tname: \"account\",\r\n\tinitialState: {\r\n\t\taccount: null,\r\n\t},\r\n\treducers: {\r\n\t\t// login: (state, action) => {\r\n\t\t// \tconst data = {\r\n\t\t// \t\tusername: action.payload.username,\r\n\t\t// \t\tpassword: action.payload.password,\r\n\t\t// \t};\r\n\t\t// \tAxios.post(\"http://localhost:5000/auth\", { data })\r\n\t\t// \t\t.then((res) => {\r\n\t\t// \t\t\tif (res) {\r\n\t\t// \t\t\t\tstate.account = action.payload;\r\n\t\t// \t\t\t\tconsole.log(state.account);\r\n\t\t// \t\t\t} else state.account = null;\r\n\t\t// \t\t})\r\n\t\t// \t\t.catch((error) => {\r\n\t\t// \t\t\tconsole.log(error);\r\n\t\t// \t\t});\r\n\t\t// },\r\n\t\tlogout: (state) => {\r\n\t\t\tstate.account = null;\r\n\t\t},\r\n\t},\r\n\textraReducers: {\r\n\t\t[authenticateUserAsync.fulfilled]: (state, action) => {\r\n\t\t\tconsole.log(\"authenticate user successfully\");\r\n\t\t\tif (action.payload.tasks) state.account = action.payload.tasks;\r\n\t\t\telse state.account = null;\r\n\t\t\tconsole.log(state.account);\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport const { logout } = accountSlice.actions;\r\n\r\nexport const selectAccount = (state) => state.account.account;\r\n\r\nexport default accountSlice.reducer;\r\n"],"mappings":"iXAAA,OAASA,WAAT,CAAsBC,gBAAtB,KAA8C,kBAA9C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,sBAAqB,CAAGF,gBAAgB,CACpD,4BADoD,4FAEpD,iBAAOG,IAAP,uIACCC,OAAO,CAACC,GAAR,GADD,sBAEwBJ,MAAK,CAACK,IAAN,CAAW,4BAAX,CAAyCH,IAAzC,CAFxB,QAEOI,QAFP,eAGOC,KAHP,CAGeD,QAAQ,CAACE,IAHxB,iCAIQ,CAAED,KAAK,CAALA,KAAF,CAJR,wDAFoD,+DAA9C,CAUP,MAAO,IAAME,aAAY,CAAGX,WAAW,CAAC,CACvCY,IAAI,CAAE,SADiC,CAEvCC,YAAY,CAAE,CACbC,OAAO,CAAE,IADI,CAFyB,CAKvCC,QAAQ,CAAE,CACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,MAAM,CAAE,gBAACC,KAAD,CAAW,CAClBA,KAAK,CAACH,OAAN,CAAgB,IAAhB,CACA,CAnBQ,CAL6B,CA0BvCI,aAAa,oBACXf,qBAAqB,CAACgB,SADX,CACuB,SAACF,KAAD,CAAQG,MAAR,CAAmB,CACrDf,OAAO,CAACC,GAAR,CAAY,gCAAZ,EACA,GAAIc,MAAM,CAACC,OAAP,CAAeZ,KAAnB,CAA0BQ,KAAK,CAACH,OAAN,CAAgBM,MAAM,CAACC,OAAP,CAAeZ,KAA/B,CAA1B,IACKQ,MAAK,CAACH,OAAN,CAAgB,IAAhB,CACLT,OAAO,CAACC,GAAR,CAAYW,KAAK,CAACH,OAAlB,EACA,CANW,CA1B0B,CAAD,CAAhC,CAoCA,GAAQE,OAAR,CAAmBL,YAAY,CAACW,OAAhC,CAAQN,MAAR,C,eAEP,MAAO,IAAMO,cAAa,CAAG,QAAhBA,cAAgB,CAACN,KAAD,QAAWA,MAAK,CAACH,OAAN,CAAcA,OAAzB,EAAtB,CAEP,cAAeH,aAAY,CAACa,OAA5B"},"metadata":{},"sourceType":"module"}