{"ast":null,"code":"import _objectDestructuringEmpty from\"D:/Code/HTML/BlogProject/client/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\";import _defineProperty from\"D:/Code/HTML/BlogProject/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"D:/Code/HTML/BlogProject/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Code/HTML/BlogProject/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createSlice,createAsyncThunk,nanoid}from\"@reduxjs/toolkit\";import Axios from\"axios\";export var getAllBlogsByUserIDAsync=createAsyncThunk(\"blogs/getAllBlogsByUserIDAsync\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(userID){var response,tasks;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.get(\"https://blogprojectpbl3.herokuapp.com/api/blog?userID=\".concat(userID));case 2:response=_context.sent;tasks=response.data;return _context.abrupt(\"return\",{tasks:tasks});case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var getBlogBySlugAsync=createAsyncThunk(\"blog/getBlogBySlugAsync\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(slug){var response,tasks;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Axios.get(\"https://blogprojectpbl3.herokuapp.com/api/blog/getblogbyslug?slug=\".concat(slug));case 2:response=_context2.sent;tasks=response.data;return _context2.abrupt(\"return\",{tasks:tasks});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());export var createNewBlogAsync=createAsyncThunk(\"blog/createNewBlogAsync\",/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(_ref3){var blogReqData,response,tasks;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:blogReqData=_ref3.blogReqData;_context3.next=3;return Axios.post(\"https://blogprojectpbl3.herokuapp.com/api/blog\",blogReqData);case 3:response=_context3.sent;tasks=response.data;return _context3.abrupt(\"return\",{tasks:tasks});case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref4.apply(this,arguments);};}());export var updateBlogAsync=createAsyncThunk(\"blog/updateBlogAsync\",/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(_ref5){var blogReqData,id,response,tasks;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:blogReqData=_ref5.blogReqData;id=blogReqData.id;_context4.next=4;return Axios.put(\"https://blogprojectpbl3.herokuapp.com/api/blog/\".concat(blogReqData.id),blogReqData);case 4:response=_context4.sent;tasks=response.data;console.log(tasks);return _context4.abrupt(\"return\",{tasks:tasks});case 8:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref6.apply(this,arguments);};}());export var deleteBlogAsync=createAsyncThunk(\"blog/deleteBlogAsync\",/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(id){var response,tasks;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return Axios.delete(\"https://blogprojectpbl3.herokuapp.com/api/blog/\".concat(id));case 2:response=_context5.sent;window.location.reload(false);tasks=response.data;return _context5.abrupt(\"return\",{tasks:tasks});case 6:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x5){return _ref7.apply(this,arguments);};}());var blogSlice=createSlice({name:\"blog\",initialState:[],reducers:{},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,getAllBlogsByUserIDAsync.fulfilled,function(state,action){console.log(\"fetching blogs by userID successfully\");return action.payload.tasks;}),_defineProperty(_extraReducers,getBlogBySlugAsync.fulfilled,function(state,action){console.log(\"fetching blog by slug successfully\");return action.payload.tasks;}),_defineProperty(_extraReducers,createNewBlogAsync.fulfilled,function(state,action){console.log(\"added new blog successfully\");return action.payload.tasks;}),_defineProperty(_extraReducers,updateBlogAsync.fulfilled,function(state,action){console.log(\"updated blog successfully\");return action.payload.tasks;}),_extraReducers)});_objectDestructuringEmpty(blogSlice.actions);export{};export var selectPost=function selectPost(state){return state.blog.blog;};export default blogSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","nanoid","Axios","getAllBlogsByUserIDAsync","userID","get","response","tasks","data","getBlogBySlugAsync","slug","createNewBlogAsync","blogReqData","post","updateBlogAsync","id","put","console","log","deleteBlogAsync","delete","window","location","reload","blogSlice","name","initialState","reducers","extraReducers","fulfilled","state","action","payload","actions","selectPost","blog","reducer"],"sources":["D:/Code/HTML/BlogProject/client/src/features/post/blogSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk, nanoid } from \"@reduxjs/toolkit\";\r\nimport Axios from \"axios\";\r\n\r\nexport const getAllBlogsByUserIDAsync = createAsyncThunk(\r\n\t\"blogs/getAllBlogsByUserIDAsync\",\r\n\tasync (userID) => {\r\n\t\tconst response = await Axios.get(\r\n\t\t\t`https://blogprojectpbl3.herokuapp.com/api/blog?userID=${userID}`\r\n\t\t);\r\n\t\tconst tasks = response.data;\r\n\t\treturn { tasks };\r\n\t}\r\n);\r\n\r\nexport const getBlogBySlugAsync = createAsyncThunk(\r\n\t\"blog/getBlogBySlugAsync\",\r\n\tasync (slug) => {\r\n\t\tconst response = await Axios.get(\r\n\t\t\t`https://blogprojectpbl3.herokuapp.com/api/blog/getblogbyslug?slug=${slug}`\r\n\t\t);\r\n\t\tconst tasks = response.data;\r\n\t\treturn { tasks };\r\n\t}\r\n);\r\n\r\nexport const createNewBlogAsync = createAsyncThunk(\r\n\t\"blog/createNewBlogAsync\",\r\n\tasync ({ blogReqData }) => {\r\n\t\tconst response = await Axios.post(\r\n\t\t\t\"https://blogprojectpbl3.herokuapp.com/api/blog\",\r\n\t\t\tblogReqData\r\n\t\t);\r\n\t\tconst tasks = response.data;\r\n\t\treturn { tasks };\r\n\t}\r\n);\r\n\r\nexport const updateBlogAsync = createAsyncThunk(\r\n\t\"blog/updateBlogAsync\",\r\n\tasync ({ blogReqData }) => {\r\n\t\tconst id = blogReqData.id;\r\n\t\tconst response = await Axios.put(\r\n\t\t\t`https://blogprojectpbl3.herokuapp.com/api/blog/${blogReqData.id}`,\r\n\t\t\tblogReqData\r\n\t\t);\r\n\t\tconst tasks = response.data;\r\n\t\tconsole.log(tasks);\r\n\t\treturn { tasks };\r\n\t}\r\n);\r\n\r\nexport const deleteBlogAsync = createAsyncThunk(\r\n\t\"blog/deleteBlogAsync\",\r\n\tasync (id) => {\r\n\t\tconst response = await Axios.delete(\r\n\t\t\t`https://blogprojectpbl3.herokuapp.com/api/blog/${id}`\r\n\t\t);\r\n\t\twindow.location.reload(false);\r\n\t\tconst tasks = response.data;\r\n\t\treturn { tasks };\r\n\t}\r\n);\r\n\r\nconst blogSlice = createSlice({\r\n\tname: \"blog\",\r\n\tinitialState: [],\r\n\treducers: {},\r\n\textraReducers: {\r\n\t\t[getAllBlogsByUserIDAsync.fulfilled]: (state, action) => {\r\n\t\t\tconsole.log(\"fetching blogs by userID successfully\");\r\n\t\t\treturn action.payload.tasks;\r\n\t\t},\r\n\t\t[getBlogBySlugAsync.fulfilled]: (state, action) => {\r\n\t\t\tconsole.log(\"fetching blog by slug successfully\");\r\n\t\t\treturn action.payload.tasks;\r\n\t\t},\r\n\t\t[createNewBlogAsync.fulfilled]: (state, action) => {\r\n\t\t\tconsole.log(\"added new blog successfully\");\r\n\t\t\treturn action.payload.tasks;\r\n\t\t},\r\n\t\t[updateBlogAsync.fulfilled]: (state, action) => {\r\n\t\t\tconsole.log(\"updated blog successfully\");\r\n\t\t\treturn action.payload.tasks;\r\n\t\t},\r\n\t},\r\n});\r\nexport const {} = blogSlice.actions;\r\n\r\nexport const selectPost = (state) => state.blog.blog;\r\n\r\nexport default blogSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}