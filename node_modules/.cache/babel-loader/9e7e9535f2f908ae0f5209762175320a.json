{"ast":null,"code":"import React from'react';import Helmet from'../components/Helmet';import Banner from'../components/Banner';import{useSelector,useDispatch}from'react-redux';import{useEffect}from'react';import{useParams}from'react-router-dom';import{getBloggerByAliasAsync}from'../features/user/bloggerSlice';import CategoryCard from'../components/CategoryCard';import PageNotFound from'./PageNotFound';import{useState}from'react';import alt from'../assets/image/topic/alt.jpg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Category(){var _user$Topic,_blogger$Topic;var dispatch=useDispatch();var params=useParams();var alias=params.alias;var blogger=useSelector(function(state){return state.blogger;});var user=useSelector(function(state){return state.user;});useEffect(function(){dispatch(getBloggerByAliasAsync(alias));},[dispatch,alias]);var topic=blogger.alias===user.alias?(_user$Topic=user.Topic)===null||_user$Topic===void 0?void 0:_user$Topic.find(function(topic){return topic.slug===params.slug;}):(_blogger$Topic=blogger.Topic)===null||_blogger$Topic===void 0?void 0:_blogger$Topic.find(function(topic){return topic.slug===params.slug;});// const allBlogsByTopic = Array.isArray(allBlogs)\n// \t? allBlogs?.filter((blog) => blog.Topic.slug === params.slug)\n// \t: [allBlogs];\nvar allBlogsByTopic=topic?topic.Blog:null;if(typeof topic!=='undefined'&&topic.length===0||typeof topic==='string')return/*#__PURE__*/_jsx(PageNotFound,{});if(topic)return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Helmet,{title:\"Ch\\u1EE7 \\u0111\\u1EC1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"allCategoryCards\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"allCategoryCards_banner\",children:topic.img!==undefined&&topic.img!==''?/*#__PURE__*/_jsx(Banner,{img:'data:image/jpg;base64,'+topic.img.toString('base64'),width:\"100\",height:\"440\",quote:topic.quote}):/*#__PURE__*/_jsx(Banner,{img:alt,width:\"100\",height:\"440\",quote:topic.quote})}),/*#__PURE__*/_jsx(\"div\",{className:\"allCategoryCards_container\",children:allBlogsByTopic.map(function(blog,index){return/*#__PURE__*/_jsx(CategoryCard,{id:blog._id,img:blog.coverImg,date:\"\".concat(blog.location!==null?blog.location+' - ':'').concat(blog.date!==undefined?blog.date.slice(0,10):''),title:\"\".concat(blog.title),content:\"\".concat(blog.content),slug:\"\".concat(blog.slug),published:blog.published,blogger:blogger},index);})})]})})});}export default Category;","map":{"version":3,"names":["React","Helmet","Banner","useSelector","useDispatch","useEffect","useParams","getBloggerByAliasAsync","CategoryCard","PageNotFound","useState","alt","Category","dispatch","params","alias","blogger","state","user","topic","Topic","find","slug","allBlogsByTopic","Blog","length","img","undefined","toString","quote","map","blog","index","_id","coverImg","location","date","slice","title","content","published"],"sources":["D:/Code/HTML/blog/BlogProject/client/src/pages/Category.jsx"],"sourcesContent":["import React from 'react';\r\nimport Helmet from '../components/Helmet';\r\nimport Banner from '../components/Banner';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { getBloggerByAliasAsync } from '../features/user/bloggerSlice';\r\nimport CategoryCard from '../components/CategoryCard';\r\nimport PageNotFound from './PageNotFound';\r\nimport { useState } from 'react';\r\nimport alt from '../assets/image/topic/alt.jpg';\r\n\r\nfunction Category() {\r\n    const dispatch = useDispatch();\r\n    const params = useParams();\r\n    const alias = params.alias;\r\n    const blogger = useSelector((state) => state.blogger);\r\n    const user = useSelector((state) => state.user);\r\n    useEffect(() => {\r\n        dispatch(getBloggerByAliasAsync(alias));\r\n    }, [dispatch, alias]);\r\n\r\n    const topic =\r\n        blogger.alias === user.alias\r\n            ? user.Topic?.find((topic) => topic.slug === params.slug)\r\n            : blogger.Topic?.find((topic) => topic.slug === params.slug);\r\n\r\n    // const allBlogsByTopic = Array.isArray(allBlogs)\r\n    // \t? allBlogs?.filter((blog) => blog.Topic.slug === params.slug)\r\n    // \t: [allBlogs];\r\n    const allBlogsByTopic = topic ? topic.Blog : null;\r\n\r\n    if (\r\n        (typeof topic !== 'undefined' && topic.length === 0) ||\r\n        typeof topic === 'string'\r\n    )\r\n        return <PageNotFound />;\r\n\r\n    if (topic)\r\n        return (\r\n            <div>\r\n                <Helmet title=\"Chủ đề\">\r\n                    <div className=\"allCategoryCards\">\r\n                        <div className=\"allCategoryCards_banner\">\r\n                            {topic.img !== undefined && topic.img !== '' ? (\r\n                                <Banner\r\n                                    img={\r\n                                        'data:image/jpg;base64,' +\r\n                                        topic.img.toString('base64')\r\n                                    }\r\n                                    width=\"100\"\r\n                                    height=\"440\"\r\n                                    quote={topic.quote}\r\n                                />\r\n                            ) : (\r\n                                <Banner\r\n                                    img={alt}\r\n                                    width=\"100\"\r\n                                    height=\"440\"\r\n                                    quote={topic.quote}\r\n                                />\r\n                            )}\r\n                        </div>\r\n                        <div className=\"allCategoryCards_container\">\r\n                            {allBlogsByTopic.map((blog, index) => {\r\n                                return (\r\n                                    <CategoryCard\r\n                                        key={index}\r\n                                        id={blog._id}\r\n                                        img={blog.coverImg}\r\n                                        date={`${\r\n                                            blog.location !== null\r\n                                                ? blog.location + ' - '\r\n                                                : ''\r\n                                        }${\r\n                                            blog.date !== undefined\r\n                                                ? blog.date.slice(0, 10)\r\n                                                : ''\r\n                                        }`}\r\n                                        title={`${blog.title}`}\r\n                                        content={`${blog.content}`}\r\n                                        slug={`${blog.slug}`}\r\n                                        published={blog.published}\r\n                                        blogger={blogger}\r\n                                    />\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                </Helmet>\r\n            </div>\r\n        );\r\n}\r\n\r\nexport default Category;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}