{"ast":null,"code":"import React,{useRef}from\"react\";import BlogCard from\"./BlogCard\";import{useSelector,useDispatch}from\"react-redux\";import{getAllBlogsByUserIDAsync}from\"../features/post/blogSlice\";import{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Topic(props){// const dispatch = useDispatch();\n// const userID = 13;\n// const topicID = props.id;\n// const allBlogs = useSelector((state) => state.blog);\n// useEffect(() => {\n// \tdispatch(getAllBlogsByUserIDAsync(userID));\n// }, [dispatch, userID]);\n// const allBlogsByTopic = allBlogs?.filter((blog) => blog.topicID === topicID);\n// console.log(allBlogsByTopic);\n// console.log(allBlogsByTopic)\nvar bodyImageRef=useRef();var onImgLoad=function onImgLoad(_ref){var img=_ref.target;var offsetHeight=img.offsetHeight,offsetWidth=img.offsetWidth;if(offsetWidth>offsetHeight)bodyImageRef.current.classList.add(\"landscape\");else bodyImageRef.current.classList.add(\"portrait\");};var allBlogsByTopic=props.blogs;var first2BlogsByTopic;if(window.matchMedia(\"(max-width: 500px)\").matches){first2BlogsByTopic=allBlogsByTopic.slice(0,2);}else{first2BlogsByTopic=allBlogsByTopic.slice(1,3);}var mainBlog=allBlogsByTopic[0];var allPostsElements=first2BlogsByTopic.map(function(blog){return/*#__PURE__*/ (// eslint-disable-next-line react/jsx-pascal-case\n_jsx(BlogCard,{id:blog.id,urlImage:require(\"../assets/image/blog/\".concat(blog.coverImg)),content:blog.content,title:blog.title,slug:blog.slug,alias:props.alias},blog.id));});return/*#__PURE__*/_jsxs(\"div\",{className:\"topicCard\",id:props.id,children:[/*#__PURE__*/_jsx(\"div\",{className:\"topic\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"topic__title\",children:[props.id%2===0?/*#__PURE__*/_jsx(Link,{to:\"/\".concat(props.alias,\"/topic/\").concat(props.slug),children:props.topicName.toUpperCase()}):\"\",/*#__PURE__*/_jsx(\"div\",{className:\"topic__line\"}),props.id%2===1?/*#__PURE__*/_jsx(Link,{to:\"/\".concat(props.alias,\"/topic/\").concat(props.slug),children:props.topicName.toUpperCase()}):\"\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"featured-blogs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"featured-blogs__main-blog\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\".concat(props.alias,\"/blog/\").concat(mainBlog.slug),children:[/*#__PURE__*/_jsx(\"div\",{className:\"featured-blogs__main-blog__image\",children:/*#__PURE__*/_jsx(\"div\",{className:\"featured-blogs__main-blog__image__container\",ref:bodyImageRef,children:/*#__PURE__*/_jsx(\"img\",{onLoad:onImgLoad,src:require(\"../assets/image/blog/\".concat(mainBlog.coverImg)),alt:\"\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"featured-blogs__main-blog__content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"featured-blogs__main-blog__content__border\"}),/*#__PURE__*/_jsx(\"h3\",{children:mainBlog.title}),/*#__PURE__*/_jsx(\"p\",{children:mainBlog.content})]})]})}),/*#__PURE__*/_jsx(\"div\",{children:allPostsElements})]})]});}","map":{"version":3,"names":["React","useRef","BlogCard","useSelector","useDispatch","getAllBlogsByUserIDAsync","useState","useEffect","Link","Topic","props","bodyImageRef","onImgLoad","img","target","offsetHeight","offsetWidth","current","classList","add","allBlogsByTopic","blogs","first2BlogsByTopic","window","matchMedia","matches","slice","mainBlog","allPostsElements","map","blog","id","require","coverImg","content","title","slug","alias","topicName","toUpperCase"],"sources":["D:/Code/HTML/BlogProject/client/src/components/Topic.jsx"],"sourcesContent":["import React, { useRef } from \"react\";\r\nimport BlogCard from \"./BlogCard\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getAllBlogsByUserIDAsync } from \"../features/post/blogSlice\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Topic(props) {\r\n\t// const dispatch = useDispatch();\r\n\t// const userID = 13;\r\n\t// const topicID = props.id;\r\n\t// const allBlogs = useSelector((state) => state.blog);\r\n\t// useEffect(() => {\r\n\t// \tdispatch(getAllBlogsByUserIDAsync(userID));\r\n\t// }, [dispatch, userID]);\r\n\t// const allBlogsByTopic = allBlogs?.filter((blog) => blog.topicID === topicID);\r\n\t// console.log(allBlogsByTopic);\r\n\r\n\t// console.log(allBlogsByTopic)\r\n\r\n\tconst bodyImageRef = useRef();\r\n\tconst onImgLoad = ({ target: img }) => {\r\n\t\tconst { offsetHeight, offsetWidth } = img;\r\n\t\tif (offsetWidth > offsetHeight)\r\n\t\t\tbodyImageRef.current.classList.add(\"landscape\");\r\n\t\telse bodyImageRef.current.classList.add(\"portrait\");\r\n\t};\r\n\r\n\tconst allBlogsByTopic = props.blogs;\r\n\tvar first2BlogsByTopic;\r\n\tif (window.matchMedia(\"(max-width: 500px)\").matches) {\r\n\t\tfirst2BlogsByTopic = allBlogsByTopic.slice(0, 2);\r\n\t} else {\r\n\t\tfirst2BlogsByTopic = allBlogsByTopic.slice(1, 3);\r\n\t}\r\n\tconst mainBlog = allBlogsByTopic[0];\r\n\r\n\tconst allPostsElements = first2BlogsByTopic.map((blog) => {\r\n\t\treturn (\r\n\t\t\t// eslint-disable-next-line react/jsx-pascal-case\r\n\t\t\t<BlogCard\r\n\t\t\t\tkey={blog.id}\r\n\t\t\t\tid={blog.id}\r\n\t\t\t\turlImage={require(`../assets/image/blog/${blog.coverImg}`)}\r\n\t\t\t\tcontent={blog.content}\r\n\t\t\t\ttitle={blog.title}\r\n\t\t\t\tslug={blog.slug}\r\n\t\t\t\talias={props.alias}\r\n\t\t\t/>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className=\"topicCard\" id={props.id}>\r\n\t\t\t<div className=\"topic\">\r\n\t\t\t\t<div className=\"topic__title\">\r\n\t\t\t\t\t{props.id % 2 === 0 ? (\r\n\t\t\t\t\t\t<Link to={`/${props.alias}/topic/${props.slug}`}>\r\n\t\t\t\t\t\t\t{props.topicName.toUpperCase()}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"topic__line\"></div>\r\n\t\t\t\t\t{props.id % 2 === 1 ? (\r\n\t\t\t\t\t\t<Link to={`/${props.alias}/topic/${props.slug}`}>\r\n\t\t\t\t\t\t\t{props.topicName.toUpperCase()}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"featured-blogs\">\r\n\t\t\t\t<div className=\"featured-blogs__main-blog\">\r\n\t\t\t\t\t<Link to={`/${props.alias}/blog/${mainBlog.slug}`}>\r\n\t\t\t\t\t\t<div className=\"featured-blogs__main-blog__image\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"featured-blogs__main-blog__image__container\"\r\n\t\t\t\t\t\t\t\tref={bodyImageRef}>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tonLoad={onImgLoad}\r\n\t\t\t\t\t\t\t\t\tsrc={require(`../assets/image/blog/${mainBlog.coverImg}`)}\r\n\t\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"featured-blogs__main-blog__content\">\r\n\t\t\t\t\t\t\t<div className=\"featured-blogs__main-blog__content__border\"></div>\r\n\t\t\t\t\t\t\t<h3>{mainBlog.title}</h3>\r\n\t\t\t\t\t\t\t<p>{mainBlog.content}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>{allPostsElements}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}