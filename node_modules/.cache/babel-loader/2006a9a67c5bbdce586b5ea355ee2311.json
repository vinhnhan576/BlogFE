{"ast":null,"code":"import _slicedToArray from\"D:/Code/HTML/BlogProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef}from\"react\";import{useState}from\"react\";import{Link,useParams}from\"react-router-dom\";import MessageBox from\"./MessageBox\";import{deleteBlogAsync}from\"../features/post/blogSlice\";import{useDispatch,useSelector}from\"react-redux\";import alt from\"../assets/image/blog/alt.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CategoryCard=function CategoryCard(props){var dispatch=useDispatch();var params=useParams();var bodyImageRef=useRef();var onImgLoad=function onImgLoad(_ref){var img=_ref.target;var offsetHeight=img.offsetHeight,offsetWidth=img.offsetWidth;if(offsetWidth>offsetHeight)bodyImageRef.current.classList.add(\"landscape\");else bodyImageRef.current.classList.add(\"portrait\");};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openMessageBox=_useState2[0],setOpenMessageBox=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),messageBoxType=_useState4[0],setMessageBoxType=_useState4[1];var publish=useRef();var store=useRef();var onCheckButtonClick=function onCheckButtonClick(){setOpenMessageBox(false);dispatch(deleteBlogAsync(props.id));};var onCloseButtonClick=function onCloseButtonClick(){setOpenMessageBox(false);};var user=useSelector(function(state){return state.user;});var blogger=useSelector(function(state){return state.blogger;});var isEqual=function isEqual(){for(var _len=arguments.length,objects=new Array(_len),_key=0;_key<_len;_key++){objects[_key]=arguments[_key];}return objects.every(function(obj){return JSON.stringify(obj)===JSON.stringify(objects[0]);});};var isLoggedIn=isEqual(user,blogger);return/*#__PURE__*/_jsxs(\"div\",{className:\"category_container\",id:props.id,children:[/*#__PURE__*/_jsxs(Link,{to:\"/\".concat(params.alias,\"/blog/\").concat(props.slug),children:[/*#__PURE__*/_jsx(\"div\",{className:\"category_container-image\",ref:bodyImageRef,children:props.urlImage!==\"\"?/*#__PURE__*/_jsx(\"img\",{onLoad:onImgLoad,src:require(\"../assets/image/blog/\".concat(props.urlImage)),alt:\"\"}):/*#__PURE__*/_jsx(\"img\",{onLoad:onImgLoad,src:alt,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"category_container-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:props.date}),/*#__PURE__*/_jsx(\"h1\",{children:props.title}),/*#__PURE__*/_jsx(\"p\",{children:props.content})]})]}),isLoggedIn&&/*#__PURE__*/_jsxs(\"div\",{className:\"category_container-functions\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"category_container-functions-left\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"category_container-functions-right\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bx bxs-edit-alt\",onClick:function onClick(){setOpenMessageBox(!openMessageBox);setMessageBoxType(\"Chỉnh sửa\");}}),/*#__PURE__*/_jsx(\"i\",{className:\"bx bxs-trash\",onClick:function onClick(){setOpenMessageBox(!openMessageBox);setMessageBoxType(\"Xóa\");}})]})]}),openMessageBox&&/*#__PURE__*/_jsx(MessageBox,{alias:params.alias,slug:props.slug,title:\"\".concat(messageBoxType,\" blog\"),body:\"B\\u1EA1n c\\xF3 ch\\u1EAFc ch\\u1EAFn mu\\u1ED1n \".concat(messageBoxType.toLowerCase(),\" \"),blogName:props.title,onCloseButtonClick:onCloseButtonClick,onCheckButtonClick:onCheckButtonClick,functionType:messageBoxType})]});};export default CategoryCard;","map":{"version":3,"names":["React","useRef","useState","Link","useParams","MessageBox","deleteBlogAsync","useDispatch","useSelector","alt","CategoryCard","props","dispatch","params","bodyImageRef","onImgLoad","img","target","offsetHeight","offsetWidth","current","classList","add","openMessageBox","setOpenMessageBox","messageBoxType","setMessageBoxType","publish","store","onCheckButtonClick","id","onCloseButtonClick","user","state","blogger","isEqual","objects","every","obj","JSON","stringify","isLoggedIn","alias","slug","urlImage","require","date","title","content","toLowerCase"],"sources":["D:/Code/HTML/BlogProject/client/src/components/CategoryCard.jsx"],"sourcesContent":["import React, { useRef } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport MessageBox from \"./MessageBox\";\r\nimport { deleteBlogAsync } from \"../features/post/blogSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport alt from \"../assets/image/blog/alt.jpg\";\r\n\r\nconst CategoryCard = (props) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst params = useParams();\r\n\tconst bodyImageRef = useRef();\r\n\tconst onImgLoad = ({ target: img }) => {\r\n\t\tconst { offsetHeight, offsetWidth } = img;\r\n\t\tif (offsetWidth > offsetHeight)\r\n\t\t\tbodyImageRef.current.classList.add(\"landscape\");\r\n\t\telse bodyImageRef.current.classList.add(\"portrait\");\r\n\t};\r\n\r\n\tconst [openMessageBox, setOpenMessageBox] = useState(false);\r\n\r\n\tconst [messageBoxType, setMessageBoxType] = useState();\r\n\r\n\tconst publish = useRef();\r\n\tconst store = useRef();\r\n\r\n\tconst onCheckButtonClick = () => {\r\n\t\tsetOpenMessageBox(false);\r\n\t\tdispatch(deleteBlogAsync(props.id));\r\n\t};\r\n\r\n\tconst onCloseButtonClick = () => {\r\n\t\tsetOpenMessageBox(false);\r\n\t};\r\n\r\n\tconst user = useSelector((state) => state.user);\r\n\tconst blogger = useSelector((state) => state.blogger);\r\n\r\n\tconst isEqual = (...objects) =>\r\n\t\tobjects.every((obj) => JSON.stringify(obj) === JSON.stringify(objects[0]));\r\n\tconst isLoggedIn = isEqual(user, blogger);\r\n\r\n\treturn (\r\n\t\t<div className=\"category_container\" id={props.id}>\r\n\t\t\t<Link to={`/${params.alias}/blog/${props.slug}`}>\r\n\t\t\t\t<div className=\"category_container-image\" ref={bodyImageRef}>\r\n\t\t\t\t\t{props.urlImage !== \"\" ? (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tonLoad={onImgLoad}\r\n\t\t\t\t\t\t\tsrc={require(`../assets/image/blog/${props.urlImage}`)}\r\n\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<img onLoad={onImgLoad} src={alt} alt=\"\" />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"category_container-content\">\r\n\t\t\t\t\t<h3>{props.date}</h3>\r\n\t\t\t\t\t<h1>{props.title}</h1>\r\n\t\t\t\t\t<p>{props.content}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t\t{isLoggedIn && (\r\n\t\t\t\t<div className=\"category_container-functions\">\r\n\t\t\t\t\t<div className=\"category_container-functions-left\">\r\n\t\t\t\t\t\t{/* <i\r\n\t\t\t\t\t\t\tclassName=\"bx bx-paper-plane\"\r\n\t\t\t\t\t\t\tref={publish}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetOpenMessageBox(!openMessageBox);\r\n\t\t\t\t\t\t\t\tsetMessageBoxType(\"Xuất bản\");\r\n\t\t\t\t\t\t\t\tstore.current.classList.toggle(\"hidden\");\r\n\t\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\tclassName=\"bx bxs-box hidden\"\r\n\t\t\t\t\t\t\tref={store}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetOpenMessageBox(!openMessageBox);\r\n\t\t\t\t\t\t\t\tsetMessageBoxType(\"Lưu trữ\");\r\n\t\t\t\t\t\t\t\tpublish.current.classList.toggle(\"hidden\");\r\n\t\t\t\t\t\t\t}}></i> */}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"category_container-functions-right\">\r\n\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\tclassName=\"bx bxs-edit-alt\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetOpenMessageBox(!openMessageBox);\r\n\t\t\t\t\t\t\t\tsetMessageBoxType(\"Chỉnh sửa\");\r\n\t\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\tclassName=\"bx bxs-trash\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetOpenMessageBox(!openMessageBox);\r\n\t\t\t\t\t\t\t\tsetMessageBoxType(\"Xóa\");\r\n\t\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{openMessageBox && (\r\n\t\t\t\t<MessageBox\r\n\t\t\t\t\talias={params.alias}\r\n\t\t\t\t\tslug={props.slug}\r\n\t\t\t\t\ttitle={`${messageBoxType} blog`}\r\n\t\t\t\t\tbody={`Bạn có chắc chắn muốn ${messageBoxType.toLowerCase()} `}\r\n\t\t\t\t\tblogName={props.title}\r\n\t\t\t\t\tonCloseButtonClick={onCloseButtonClick}\r\n\t\t\t\t\tonCheckButtonClick={onCheckButtonClick}\r\n\t\t\t\t\tfunctionType={messageBoxType}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CategoryCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}