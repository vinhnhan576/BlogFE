{"ast":null,"code":"import React,{useRef}from\"react\";import BlogCard from\"./BlogCard\";import{Link}from\"react-router-dom\";import alt from\"../assets/image/blog/alt.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Topic(props){// const dispatch = useDispatch();\n// const userID = 13;\n// const topicID = props.id;\n// const allBlogs = useSelector((state) => state.blog);\n// useEffect(() => {\n// \tdispatch(getAllBlogsByUserIDAsync(userID));\n// }, [dispatch, userID]);\n// const allBlogsByTopic = allBlogs?.filter((blog) => blog.topicID === topicID);\n// console.log(allBlogsByTopic);\n// console.log(allBlogsByTopic)\nvar allBlogsByTopic=props.blogs;var first2BlogsByTopic;var bodyImageRef=useRef();var onImgLoad=function onImgLoad(_ref){var img=_ref.target;var offsetHeight=img.offsetHeight,offsetWidth=img.offsetWidth;if(offsetWidth>offsetHeight)bodyImageRef.current.classList.add(\"landscape\");else bodyImageRef.current.classList.add(\"portrait\");};if(window.matchMedia(\"(max-width: 500px)\").matches){first2BlogsByTopic=allBlogsByTopic.slice(0,2);}else{first2BlogsByTopic=allBlogsByTopic.slice(1,3);}var mainBlog=allBlogsByTopic[0];var allPostsElements=first2BlogsByTopic.map(function(blog){return/*#__PURE__*/ (// eslint-disable-next-line react/jsx-pascal-case\n_jsx(BlogCard,{id:blog.id,urlImage:blog.coverImg,content:blog.content,title:blog.title,slug:blog.slug,alias:props.alias},blog.id));});return/*#__PURE__*/_jsxs(\"div\",{className:\"topicCard\",id:props.id,children:[/*#__PURE__*/_jsx(\"div\",{className:\"topic\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"topic__title\",children:[props.id%2===0?/*#__PURE__*/_jsx(Link,{to:\"/\".concat(props.alias,\"/topic/\").concat(props.slug),children:props.topicName.toUpperCase()}):\"\",/*#__PURE__*/_jsx(\"div\",{className:\"topic__line\"}),props.id%2===1&&/*#__PURE__*/_jsx(Link,{to:\"/\".concat(props.alias,\"/topic/\").concat(props.slug),children:props.topicName.toUpperCase()})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"featured-blogs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"featured-blogs__main-blog\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\".concat(props.alias,\"/blog/\").concat(mainBlog.slug),children:[/*#__PURE__*/_jsx(\"div\",{className:\"featured-blogs__main-blog__image\",children:/*#__PURE__*/_jsx(\"div\",{className:\"featured-blogs__main-blog__image__container\",ref:bodyImageRef,children:mainBlog.coverImg!==\"\"?/*#__PURE__*/_jsx(\"img\",{onLoad:onImgLoad,src:require(\"../assets/image/blog/\".concat(mainBlog.coverImg)),alt:\"\"}):/*#__PURE__*/_jsx(\"img\",{onLoad:onImgLoad,src:alt,alt:\"\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"featured-blogs__main-blog__content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"featured-blogs__main-blog__content__border\"}),/*#__PURE__*/_jsx(\"h3\",{children:mainBlog.title}),/*#__PURE__*/_jsx(\"p\",{children:mainBlog.content})]})]})}),/*#__PURE__*/_jsx(\"div\",{children:allPostsElements})]})]});}","map":{"version":3,"names":["React","useRef","BlogCard","Link","alt","Topic","props","allBlogsByTopic","blogs","first2BlogsByTopic","bodyImageRef","onImgLoad","img","target","offsetHeight","offsetWidth","current","classList","add","window","matchMedia","matches","slice","mainBlog","allPostsElements","map","blog","id","coverImg","content","title","slug","alias","topicName","toUpperCase","require"],"sources":["D:/Code/HTML/BlogProject/client/src/components/Topic.jsx"],"sourcesContent":["import React, { useRef } from \"react\";\r\nimport BlogCard from \"./BlogCard\";\r\nimport { Link } from \"react-router-dom\";\r\nimport alt from \"../assets/image/blog/alt.jpg\";\r\n\r\nexport default function Topic(props) {\r\n\t// const dispatch = useDispatch();\r\n\t// const userID = 13;\r\n\t// const topicID = props.id;\r\n\t// const allBlogs = useSelector((state) => state.blog);\r\n\t// useEffect(() => {\r\n\t// \tdispatch(getAllBlogsByUserIDAsync(userID));\r\n\t// }, [dispatch, userID]);\r\n\t// const allBlogsByTopic = allBlogs?.filter((blog) => blog.topicID === topicID);\r\n\t// console.log(allBlogsByTopic);\r\n\r\n\t// console.log(allBlogsByTopic)\r\n\tconst allBlogsByTopic = props.blogs;\r\n\tvar first2BlogsByTopic;\r\n\tconst bodyImageRef = useRef();\r\n\tconst onImgLoad = ({ target: img }) => {\r\n\t\tconst { offsetHeight, offsetWidth } = img;\r\n\t\tif (offsetWidth > offsetHeight)\r\n\t\t\tbodyImageRef.current.classList.add(\"landscape\");\r\n\t\telse bodyImageRef.current.classList.add(\"portrait\");\r\n\t};\r\n\r\n\tif (window.matchMedia(\"(max-width: 500px)\").matches) {\r\n\t\tfirst2BlogsByTopic = allBlogsByTopic.slice(0, 2);\r\n\t} else {\r\n\t\tfirst2BlogsByTopic = allBlogsByTopic.slice(1, 3);\r\n\t}\r\n\tconst mainBlog = allBlogsByTopic[0];\r\n\r\n\tconst allPostsElements = first2BlogsByTopic.map((blog) => {\r\n\t\treturn (\r\n\t\t\t// eslint-disable-next-line react/jsx-pascal-case\r\n\t\t\t<BlogCard\r\n\t\t\t\tkey={blog.id}\r\n\t\t\t\tid={blog.id}\r\n\t\t\t\turlImage={blog.coverImg}\r\n\t\t\t\tcontent={blog.content}\r\n\t\t\t\ttitle={blog.title}\r\n\t\t\t\tslug={blog.slug}\r\n\t\t\t\talias={props.alias}\r\n\t\t\t/>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className=\"topicCard\" id={props.id}>\r\n\t\t\t<div className=\"topic\">\r\n\t\t\t\t<div className=\"topic__title\">\r\n\t\t\t\t\t{props.id % 2 === 0 ? (\r\n\t\t\t\t\t\t<Link to={`/${props.alias}/topic/${props.slug}`}>\r\n\t\t\t\t\t\t\t{props.topicName.toUpperCase()}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"topic__line\"></div>\r\n\t\t\t\t\t{props.id % 2 === 1 && (\r\n\t\t\t\t\t\t<Link to={`/${props.alias}/topic/${props.slug}`}>\r\n\t\t\t\t\t\t\t{props.topicName.toUpperCase()}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"featured-blogs\">\r\n\t\t\t\t<div className=\"featured-blogs__main-blog\">\r\n\t\t\t\t\t<Link to={`/${props.alias}/blog/${mainBlog.slug}`}>\r\n\t\t\t\t\t\t<div className=\"featured-blogs__main-blog__image\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"featured-blogs__main-blog__image__container\"\r\n\t\t\t\t\t\t\t\tref={bodyImageRef}>\r\n\t\t\t\t\t\t\t\t{mainBlog.coverImg !== \"\" ? (\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tonLoad={onImgLoad}\r\n\t\t\t\t\t\t\t\t\t\tsrc={require(`../assets/image/blog/${mainBlog.coverImg}`)}\r\n\t\t\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<img onLoad={onImgLoad} src={alt} alt=\"\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"featured-blogs__main-blog__content\">\r\n\t\t\t\t\t\t\t<div className=\"featured-blogs__main-blog__content__border\"></div>\r\n\t\t\t\t\t\t\t<h3>{mainBlog.title}</h3>\r\n\t\t\t\t\t\t\t<p>{mainBlog.content}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>{allPostsElements}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}