{"ast":null,"code":"import _objectDestructuringEmpty from\"D:/Code/HTML/BlogProject/client/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\";import _defineProperty from\"D:/Code/HTML/BlogProject/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"D:/Code/HTML/BlogProject/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Code/HTML/BlogProject/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import Axios from\"axios\";export var getAllTopicsByUserIDAsync=createAsyncThunk(\"topic/getAllTopicssByUserIDAsync\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(userID){var response,tasks;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.get(\"http://blogprojectpbl3.herokuapp.com/api/topic/query?userID=\".concat(userID));case 2:response=_context.sent;tasks=response.data;return _context.abrupt(\"return\",{tasks:tasks});case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var getAllTopicBySlugAsync=createAsyncThunk(\"topic/getAllTopicBySlugAsync\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(slug){var response,tasks;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Axios.get(\"https://blogprojectpbl3.herokuapp.com/api/topic/gettopicbyslug?slug=\".concat(slug));case 2:response=_context2.sent;tasks=response.data;return _context2.abrupt(\"return\",{tasks:tasks});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());export var createNewTopic=createAsyncThunk(\"topic/createNewTopic\",/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(_ref3){var topic,response,tasks;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:topic=_ref3.topic;console.log(topic);_context3.next=4;return Axios.post(\"https://blogprojectpbl3.herokuapp.com/api/topic/\",topic);case 4:response=_context3.sent;tasks=response.data;return _context3.abrupt(\"return\",{tasks:tasks});case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref4.apply(this,arguments);};}());var topicSlice=createSlice({name:\"topic\",initialState:[],reducers:{},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,getAllTopicsByUserIDAsync.fulfilled,function(state,action){console.log(\"fetching topics successfully\");return action.payload.tasks;}),_defineProperty(_extraReducers,createNewTopic.fulfilled,function(state,action){console.log(\"create new topic successfully\");return action.payload.tasks;}),_extraReducers)});_objectDestructuringEmpty(topicSlice.actions);export{};export default topicSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","Axios","getAllTopicsByUserIDAsync","userID","get","response","tasks","data","getAllTopicBySlugAsync","slug","createNewTopic","topic","console","log","post","topicSlice","name","initialState","reducers","extraReducers","fulfilled","state","action","payload","actions","reducer"],"sources":["D:/Code/HTML/BlogProject/client/src/features/topic/topicSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport Axios from \"axios\";\r\n\r\nexport const getAllTopicsByUserIDAsync = createAsyncThunk(\r\n\t\"topic/getAllTopicssByUserIDAsync\",\r\n\tasync (userID) => {\r\n\t\tconst response = await Axios.get(\r\n\t\t\t`http://blogprojectpbl3.herokuapp.com/api/topic/query?userID=${userID}`\r\n\t\t);\r\n\t\tconst tasks = response.data;\r\n\t\treturn { tasks };\r\n\t}\r\n);\r\n\r\nexport const getAllTopicBySlugAsync = createAsyncThunk(\r\n\t\"topic/getAllTopicBySlugAsync\",\r\n\tasync (slug) => {\r\n\t\tconst response = await Axios.get(\r\n\t\t\t`https://blogprojectpbl3.herokuapp.com/api/topic/gettopicbyslug?slug=${slug}`\r\n\t\t);\r\n\t\tconst tasks = response.data;\r\n\t\treturn { tasks };\r\n\t}\r\n);\r\n\r\nexport const createNewTopic = createAsyncThunk(\r\n\t\"topic/createNewTopic\",\r\n\tasync ({ topic }) => {\r\n\t\tconsole.log(topic);\r\n\t\tconst response = await Axios.post(\r\n\t\t\t`https://blogprojectpbl3.herokuapp.com/api/topic/`,\r\n\t\t\ttopic\r\n\t\t);\r\n\t\tconst tasks = response.data;\r\n\t\treturn { tasks };\r\n\t}\r\n);\r\n\r\nconst topicSlice = createSlice({\r\n\tname: \"topic\",\r\n\tinitialState: [],\r\n\treducers: {},\r\n\textraReducers: {\r\n\t\t[getAllTopicsByUserIDAsync.fulfilled]: (state, action) => {\r\n\t\t\tconsole.log(\"fetching topics successfully\");\r\n\t\t\treturn action.payload.tasks;\r\n\t\t},\r\n\t\t[createNewTopic.fulfilled]: (state, action) => {\r\n\t\t\tconsole.log(\"create new topic successfully\");\r\n\t\t\treturn action.payload.tasks;\r\n\t\t},\r\n\t},\r\n});\r\nexport const {} = topicSlice.actions;\r\nexport default topicSlice.reducer;\r\n"],"mappings":"+gBAAA,OAASA,WAAT,CAAsBC,gBAAtB,KAA8C,kBAA9C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,0BAAyB,CAAGF,gBAAgB,CACxD,kCADwD,4FAExD,iBAAOG,MAAP,6JACwBF,MAAK,CAACG,GAAN,uEACyCD,MADzC,EADxB,QACOE,QADP,eAIOC,KAJP,CAIeD,QAAQ,CAACE,IAJxB,iCAKQ,CAAED,KAAK,CAALA,KAAF,CALR,wDAFwD,+DAAlD,CAWP,MAAO,IAAME,uBAAsB,CAAGR,gBAAgB,CACrD,8BADqD,6FAErD,kBAAOS,IAAP,kKACwBR,MAAK,CAACG,GAAN,+EACiDK,IADjD,EADxB,QACOJ,QADP,gBAIOC,KAJP,CAIeD,QAAQ,CAACE,IAJxB,kCAKQ,CAAED,KAAK,CAALA,KAAF,CALR,0DAFqD,iEAA/C,CAWP,MAAO,IAAMI,eAAc,CAAGV,gBAAgB,CAC7C,sBAD6C,6FAE7C,wKAASW,KAAT,OAASA,KAAT,CACCC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EADD,uBAEwBV,MAAK,CAACa,IAAN,oDAEtBH,KAFsB,CAFxB,QAEON,QAFP,gBAMOC,KANP,CAMeD,QAAQ,CAACE,IANxB,kCAOQ,CAAED,KAAK,CAALA,KAAF,CAPR,0DAF6C,iEAAvC,CAaP,GAAMS,WAAU,CAAGhB,WAAW,CAAC,CAC9BiB,IAAI,CAAE,OADwB,CAE9BC,YAAY,CAAE,EAFgB,CAG9BC,QAAQ,CAAE,EAHoB,CAI9BC,aAAa,mDACXjB,yBAAyB,CAACkB,SADf,CAC2B,SAACC,KAAD,CAAQC,MAAR,CAAmB,CACzDV,OAAO,CAACC,GAAR,CAAY,8BAAZ,EACA,MAAOS,OAAM,CAACC,OAAP,CAAejB,KAAtB,CACA,CAJW,iCAKXI,cAAc,CAACU,SALJ,CAKgB,SAACC,KAAD,CAAQC,MAAR,CAAmB,CAC9CV,OAAO,CAACC,GAAR,CAAY,+BAAZ,EACA,MAAOS,OAAM,CAACC,OAAP,CAAejB,KAAtB,CACA,CARW,iBAJiB,CAAD,CAA9B,CAeO,0BAAWS,UAAU,CAACS,OAAtB,E,SACP,cAAeT,WAAU,CAACU,OAA1B"},"metadata":{},"sourceType":"module"}