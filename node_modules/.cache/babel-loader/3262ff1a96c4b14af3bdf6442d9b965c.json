{"ast":null,"code":"import _defineProperty from\"D:/Code/HTML/BlogProject/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Code/HTML/BlogProject/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Code/HTML/BlogProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";import{useRef}from\"react\";import{useDispatch}from\"react-redux\";import namingBlogSlug from\"../utils/namingSlugs\";import{createNewBlogAsync}from\"../features/post/blogSlice\";import Helmet from\"../components/Helmet\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewBlog=function NewBlog(_ref){var alias=_ref.alias;var textareaRef=useRef();var imageRef=useRef();var dispatch=useDispatch();var navigate=useNavigate();var initialBlogState={title:\"\",content:\"\",quote:\"\",date:new Date().toLocaleDateString(),location:\"\",slug:\"\",topicID:\"13\",coverImg:\"huonglehere_doi-song_danh-bai.jpg\"};var _useState=useState(initialBlogState),_useState2=_slicedToArray(_useState,2),newBlog=_useState2[0],setNewBlog=_useState2[1];var handleChange=function handleChange(input){return function(event){setNewBlog(_objectSpread(_objectSpread({},newBlog),{},_defineProperty({},input,event.target.value)));};};var handleTitleChange=function handleTitleChange(){return function(event){var _objectSpread3;setNewBlog(_objectSpread(_objectSpread({},newBlog),{},(_objectSpread3={},_defineProperty(_objectSpread3,\"title\",event.target.value),_defineProperty(_objectSpread3,\"slug\",namingBlogSlug(event.target.value)),_objectSpread3)));};};// const [image, setImage] = useState();\nvar readImage=function readImage(e){var image=e.target.files[0];console.log(image);};var imageUploadHandler=function imageUploadHandler(e){};var handleNewBlog=function handleNewBlog(e){e.preventDefault();dispatch(createNewBlogAsync({blogReqData:newBlog}));navigate(\"/\".concat(alias,\"/\"));};return/*#__PURE__*/_jsx(Helmet,{title:\"T\\u1EA1o blog m\\u1EDBi\",children:/*#__PURE__*/_jsx(\"div\",{className:\"new-blog\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"new-blog__form\",onSubmit:handleNewBlog,children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:imageRef,onChange:readImage,className:\"new-blog__form__image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"quote\",onChange:handleChange(\"quote\"),className:\"new-blog__form__quote\",placeholder:\"Ch\\xE2m ng\\xF4n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"location\",className:\"new-blog__form__place\",placeholder:\"\\u0110\\u1ECBa \\u0111i\\u1EC3m\",onChange:handleChange(\"location\")}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",className:\"new-blog__form__title\",placeholder:\"Ti\\xEAu \\u0111\\u1EC1\",onChange:handleTitleChange()}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",name:\"content\",className:\"new-blog__form__body\",placeholder:\"N\\u1ED9i dung\",ref:textareaRef,onChange:handleChange(\"content\"),onKeyUp:function onKeyUp(e){textareaRef.current.style.height=\"200px\";var height=e.target.scrollHeight;if(height>200){// textareaRef.current.style.height = \"auto\";\ntextareaRef.current.style.height=\"\".concat(height,\"px\");}}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"new-blog__form__signature\",placeholder:\"Ch\\u1EEF k\\xFD\"}),/*#__PURE__*/_jsx(\"button\",{className:\"new-blog__form__create-button\",type:\"submit\",children:\"T\\u1EA1o b\\xE0i vi\\u1EBFt\"})]})})});};export default NewBlog;","map":{"version":3,"names":["React","useState","useRef","useDispatch","namingBlogSlug","createNewBlogAsync","Helmet","useNavigate","NewBlog","alias","textareaRef","imageRef","dispatch","navigate","initialBlogState","title","content","quote","date","Date","toLocaleDateString","location","slug","topicID","coverImg","newBlog","setNewBlog","handleChange","input","event","target","value","handleTitleChange","readImage","e","image","files","console","log","imageUploadHandler","handleNewBlog","preventDefault","blogReqData","current","style","height","scrollHeight"],"sources":["D:/Code/HTML/BlogProject/client/src/pages/NewBlog.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport namingBlogSlug from \"../utils/namingSlugs\";\r\nimport { createNewBlogAsync } from \"../features/post/blogSlice\";\r\nimport Helmet from \"../components/Helmet\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst NewBlog = ({ alias }) => {\r\n\tconst textareaRef = useRef();\r\n\tconst imageRef = useRef();\r\n\tconst dispatch = useDispatch();\r\n\tconst navigate = useNavigate();\r\n\r\n\tconst initialBlogState = {\r\n\t\ttitle: \"\",\r\n\t\tcontent: \"\",\r\n\t\tquote: \"\",\r\n\t\tdate: new Date().toLocaleDateString(),\r\n\t\tlocation: \"\",\r\n\t\tslug: \"\",\r\n\t\ttopicID: \"13\",\r\n\t\tcoverImg: \"huonglehere_doi-song_danh-bai.jpg\",\r\n\t};\r\n\r\n\tconst [newBlog, setNewBlog] = useState(initialBlogState);\r\n\r\n\tconst handleChange = (input) => (event) => {\r\n\t\tsetNewBlog({ ...newBlog, [input]: event.target.value });\r\n\t};\r\n\r\n\tconst handleTitleChange = () => (event) => {\r\n\t\tsetNewBlog({\r\n\t\t\t...newBlog,\r\n\t\t\t[\"title\"]: event.target.value,\r\n\t\t\t[\"slug\"]: namingBlogSlug(event.target.value),\r\n\t\t});\r\n\t};\r\n\r\n\t// const [image, setImage] = useState();\r\n\r\n\tconst readImage = (e) => {\r\n\t\tconst image = e.target.files[0];\r\n\t\tconsole.log(image);\r\n\t};\r\n\r\n\tconst imageUploadHandler = (e) => {};\r\n\r\n\tconst handleNewBlog = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(createNewBlogAsync({ blogReqData: newBlog }));\r\n\t\tnavigate(`/${alias}/`);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Helmet title=\"Tạo blog mới\">\r\n\t\t\t<div className=\"new-blog\">\r\n\t\t\t\t<form className=\"new-blog__form\" onSubmit={handleNewBlog}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\tref={imageRef}\r\n\t\t\t\t\t\tonChange={readImage}\r\n\t\t\t\t\t\tclassName=\"new-blog__form__image\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"quote\"\r\n\t\t\t\t\t\tonChange={handleChange(\"quote\")}\r\n\t\t\t\t\t\tclassName=\"new-blog__form__quote\"\r\n\t\t\t\t\t\tplaceholder=\"Châm ngôn\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"location\"\r\n\t\t\t\t\t\tclassName=\"new-blog__form__place\"\r\n\t\t\t\t\t\tplaceholder=\"Địa điểm\"\r\n\t\t\t\t\t\tonChange={handleChange(\"location\")}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\t\tclassName=\"new-blog__form__title\"\r\n\t\t\t\t\t\tplaceholder=\"Tiêu đề\"\r\n\t\t\t\t\t\tonChange={handleTitleChange()}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"content\"\r\n\t\t\t\t\t\tclassName=\"new-blog__form__body\"\r\n\t\t\t\t\t\tplaceholder=\"Nội dung\"\r\n\t\t\t\t\t\tref={textareaRef}\r\n\t\t\t\t\t\tonChange={handleChange(\"content\")}\r\n\t\t\t\t\t\tonKeyUp={(e) => {\r\n\t\t\t\t\t\t\ttextareaRef.current.style.height = \"200px\";\r\n\t\t\t\t\t\t\tlet height = e.target.scrollHeight;\r\n\t\t\t\t\t\t\tif (height > 200) {\r\n\t\t\t\t\t\t\t\t// textareaRef.current.style.height = \"auto\";\r\n\t\t\t\t\t\t\t\ttextareaRef.current.style.height = `${height}px`;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}></textarea>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"new-blog__form__signature\"\r\n\t\t\t\t\t\tplaceholder=\"Chữ ký\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button className=\"new-blog__form__create-button\" type=\"submit\">\r\n\t\t\t\t\t\tTạo bài viết\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</Helmet>\r\n\t);\r\n};\r\n\r\nexport default NewBlog;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}