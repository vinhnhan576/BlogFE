{"ast":null,"code":"import _objectDestructuringEmpty from\"D:/Code/HTML/blog/BlogProject/client/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\";import _defineProperty from\"D:/Code/HTML/blog/BlogProject/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"D:/Code/HTML/blog/BlogProject/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Code/HTML/blog/BlogProject/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import Axios from'axios';import authHeader from'../common/authHeader';import serverUrl from'../common/common';var topicUrl='api/topic';export var getAllTopicsByUserIDAsync=createAsyncThunk('topic/getAllTopicsByUserIDAsync',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(userID){var response,tasks;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.get(\"\".concat(serverUrl).concat(topicUrl,\"?userID=\").concat(userID),{headers:authHeader()});case 2:response=_context.sent;tasks=response.data;return _context.abrupt(\"return\",{tasks:tasks});case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var getAllTopicBySlugAsync=createAsyncThunk('topic/getAllTopicBySlugAsync',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(slug){var response,tasks;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Axios.get(\"\".concat(serverUrl).concat(topicUrl,\"/get-topic-by-slug?slug=\").concat(slug),{headers:authHeader()});case 2:response=_context2.sent;tasks=response.data;return _context2.abrupt(\"return\",{tasks:tasks});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());export var createNewTopic=createAsyncThunk('topic/createNewTopic',/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(_ref3){var topic,response,tasks;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:topic=_ref3.topic;console.log(topic);_context3.next=4;return Axios.post(serverUrl+topicUrl,topic,{headers:authHeader()});case 4:response=_context3.sent;tasks=response.data;return _context3.abrupt(\"return\",{tasks:tasks});case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref4.apply(this,arguments);};}());var topicSlice=createSlice({name:'topic',initialState:[],reducers:{},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,getAllTopicsByUserIDAsync.fulfilled,function(state,action){console.log('fetching topics successfully');return action.payload.tasks.result;}),_defineProperty(_extraReducers,createNewTopic.fulfilled,function(state,action){console.log('create new topic successfully');return action.payload.tasks.result;}),_extraReducers)});_objectDestructuringEmpty(topicSlice.actions);export{};export default topicSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","Axios","authHeader","serverUrl","topicUrl","getAllTopicsByUserIDAsync","userID","get","headers","response","tasks","data","getAllTopicBySlugAsync","slug","createNewTopic","topic","console","log","post","topicSlice","name","initialState","reducers","extraReducers","fulfilled","state","action","payload","result","actions","reducer"],"sources":["D:/Code/HTML/blog/BlogProject/client/src/features/topic/topicSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport Axios from 'axios';\r\nimport authHeader from '../common/authHeader';\r\nimport serverUrl from '../common/common';\r\n\r\nconst topicUrl = 'api/topic';\r\n\r\nexport const getAllTopicsByUserIDAsync = createAsyncThunk(\r\n    'topic/getAllTopicsByUserIDAsync',\r\n    async (userID) => {\r\n        const response = await Axios.get(\r\n            `${serverUrl}${topicUrl}?userID=${userID}`,\r\n            { headers: authHeader() }\r\n        );\r\n        const tasks = response.data;\r\n        return { tasks };\r\n    }\r\n);\r\n\r\nexport const getAllTopicBySlugAsync = createAsyncThunk(\r\n    'topic/getAllTopicBySlugAsync',\r\n    async (slug) => {\r\n        const response = await Axios.get(\r\n            `${serverUrl}${topicUrl}/get-topic-by-slug?slug=${slug}`,\r\n            { headers: authHeader() }\r\n        );\r\n        const tasks = response.data;\r\n        return { tasks };\r\n    }\r\n);\r\n\r\nexport const createNewTopic = createAsyncThunk(\r\n    'topic/createNewTopic',\r\n    async ({ topic }) => {\r\n        console.log(topic);\r\n        const response = await Axios.post(serverUrl + topicUrl, topic, {\r\n            headers: authHeader(),\r\n        });\r\n        const tasks = response.data;\r\n        return { tasks };\r\n    }\r\n);\r\n\r\nconst topicSlice = createSlice({\r\n    name: 'topic',\r\n    initialState: [],\r\n    reducers: {},\r\n    extraReducers: {\r\n        [getAllTopicsByUserIDAsync.fulfilled]: (state, action) => {\r\n            console.log('fetching topics successfully');\r\n            return action.payload.tasks.result;\r\n        },\r\n        [createNewTopic.fulfilled]: (state, action) => {\r\n            console.log('create new topic successfully');\r\n            return action.payload.tasks.result;\r\n        },\r\n    },\r\n});\r\nexport const {} = topicSlice.actions;\r\nexport default topicSlice.reducer;\r\n"],"mappings":"miBAAA,OAASA,WAAT,CAAsBC,gBAAtB,KAA8C,kBAA9C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,WAAP,KAAuB,sBAAvB,CACA,MAAOC,UAAP,KAAsB,kBAAtB,CAEA,GAAMC,SAAQ,CAAG,WAAjB,CAEA,MAAO,IAAMC,0BAAyB,CAAGL,gBAAgB,CACrD,iCADqD,4FAErD,iBAAOM,MAAP,6JAC2BL,MAAK,CAACM,GAAN,WAChBJ,SADgB,SACJC,QADI,oBACeE,MADf,EAEnB,CAAEE,OAAO,CAAEN,UAAU,EAArB,CAFmB,CAD3B,QACUO,QADV,eAKUC,KALV,CAKkBD,QAAQ,CAACE,IAL3B,iCAMW,CAAED,KAAK,CAALA,KAAF,CANX,wDAFqD,+DAAlD,CAYP,MAAO,IAAME,uBAAsB,CAAGZ,gBAAgB,CAClD,8BADkD,6FAElD,kBAAOa,IAAP,kKAC2BZ,MAAK,CAACM,GAAN,WAChBJ,SADgB,SACJC,QADI,oCAC+BS,IAD/B,EAEnB,CAAEL,OAAO,CAAEN,UAAU,EAArB,CAFmB,CAD3B,QACUO,QADV,gBAKUC,KALV,CAKkBD,QAAQ,CAACE,IAL3B,kCAMW,CAAED,KAAK,CAALA,KAAF,CANX,0DAFkD,iEAA/C,CAYP,MAAO,IAAMI,eAAc,CAAGd,gBAAgB,CAC1C,sBAD0C,6FAE1C,wKAASe,KAAT,OAASA,KAAT,CACIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EADJ,uBAE2Bd,MAAK,CAACiB,IAAN,CAAWf,SAAS,CAAGC,QAAvB,CAAiCW,KAAjC,CAAwC,CAC3DP,OAAO,CAAEN,UAAU,EADwC,CAAxC,CAF3B,QAEUO,QAFV,gBAKUC,KALV,CAKkBD,QAAQ,CAACE,IAL3B,kCAMW,CAAED,KAAK,CAALA,KAAF,CANX,0DAF0C,iEAAvC,CAYP,GAAMS,WAAU,CAAGpB,WAAW,CAAC,CAC3BqB,IAAI,CAAE,OADqB,CAE3BC,YAAY,CAAE,EAFa,CAG3BC,QAAQ,CAAE,EAHiB,CAI3BC,aAAa,mDACRlB,yBAAyB,CAACmB,SADlB,CAC8B,SAACC,KAAD,CAAQC,MAAR,CAAmB,CACtDV,OAAO,CAACC,GAAR,CAAY,8BAAZ,EACA,MAAOS,OAAM,CAACC,OAAP,CAAejB,KAAf,CAAqBkB,MAA5B,CACH,CAJQ,iCAKRd,cAAc,CAACU,SALP,CAKmB,SAACC,KAAD,CAAQC,MAAR,CAAmB,CAC3CV,OAAO,CAACC,GAAR,CAAY,+BAAZ,EACA,MAAOS,OAAM,CAACC,OAAP,CAAejB,KAAf,CAAqBkB,MAA5B,CACH,CARQ,iBAJc,CAAD,CAA9B,CAeO,0BAAWT,UAAU,CAACU,OAAtB,E,SACP,cAAeV,WAAU,CAACW,OAA1B"},"metadata":{},"sourceType":"module"}